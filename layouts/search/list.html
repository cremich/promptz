{{ define "main" }}
  <!-- Hero Section with Gradients -->
  <div
    class="relative overflow-hidden bg-gradient-to-br from-background via-background to-primary/5 border-b border-border/40"
  >
    <div
      class="absolute inset-0 bg-gradient-to-r from-primary/10 via-transparent to-accent/10"
    ></div>
    <div class="relative max-w-6xl mx-auto px-6 py-6">
      <div class="flex items-center gap-4">
        <div
          class="p-3 rounded-xl bg-primary/10 border border-primary/20 text-primary"
        >
          <svg
            class="w-6 h-6"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
            ></path>
          </svg>
        </div>
        <div>
          <h1
            class="text-3xl font-bold bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent"
          >
            {{ .Title }}
          </h1>
          <p class="text-muted-foreground mt-1">{{ .Content }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Search Interface -->
  <div class="max-w-6xl mx-auto px-6 py-8">
    <div>
      <!-- Search Container with Modern Styling -->
      <div class="relative">
        <div
          class="absolute inset-0 bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5 rounded-2xl blur-xl"
        ></div>
        <div
          class="relative bg-card/50 backdrop-blur-sm border border-border/50 rounded-2xl p-8 shadow-lg"
        >
          <div id="search"></div>
        </div>
      </div>

      <!-- Search Tips -->
      <div class="mt-8 text-center">
        <p class="text-sm text-muted-foreground">
          Press
          <kbd
            class="px-2 py-1 bg-muted border border-border rounded text-xs font-mono"
            >âŒ˜K</kbd
          >
          to quickly access search
        </p>
      </div>
    </div>
  </div>

  <script>
    // Function to get URL parameters
    function getUrlParameter(name) {
      name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
      const regex = new RegExp("[\\?&]" + name + "=([^&#]*)");
      const results = regex.exec(location.search);
      return results === null
        ? ""
        : decodeURIComponent(results[1].replace(/\+/g, " "));
    }

    window.addEventListener("DOMContentLoaded", (event) => {
      // Get the search query from URL parameter 'query'
      const initialQuery = getUrlParameter("query");

      const searchUI = new PagefindUI({
        element: "#search",
        showSubResults: false,
        showImages: false,
        excerptLength: 30,
        resetStyles: false,
      });

      // If there's an initial query, trigger the search
      if (initialQuery) {
        setTimeout(() => {
          searchUI.triggerSearch(initialQuery);
        }, 100);
      }
    });
  </script>
{{ end }}
